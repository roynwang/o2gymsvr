angular.module("ByGiro.signaturePad",[]).directive("signaturePad",["$window","$parse","$compile",function(a,t,n){return contrFunction=["$scope","$timeout","$element","$attrs","$parse",function(a,t,n,e,i){function r(){if(e.modelKey&&a.$parent.model){var n=i(e.modelKey),r=n.assign;r(a.$parent.model,a.dataVal),t()}}var s,o,c={height:220,width:568,clearBtn:"Cancel"};a.opts=angular.extend({},c,a.opts),s=n.find("canvas"),o=new SignaturePad(s.get(0)),a.signature&&!a.signature.$isEmpty&&a.signature.dataUrl&&o.fromDataURL(a.signature.dataUrl),s.on("mouseup",function(){a.dataVal=o.isEmpty()?"":o.toDataURL(),r()}),a.clear=function(){o.clear(),a.dataVal="",r()}}],{scope:{opts:"=signaturePadOptions"},restrict:"A",replace:!0,template:'<div class=signature-container><canvas class=signature-pad height={{opts.height}} width={{opts.width}}></canvas><span class="btn btn-default btn-clear-sign" ng-click=clear()>{{opts.clearBtn}}</span></div>',controller:contrFunction}}]);