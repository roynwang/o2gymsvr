<div class="row" ng-controller="FinanceCtrl as ctrl">
    <div class="col-sm-12">
        <section class="panel">
            <header class="panel-heading">
                <div class="row">
                    <h4 class="col-sm-4">财务数据</h4>
                    <div class="col-md-1 pull-right">
                        <a ng-hide="ctrl.adding" class="btn btn-primary" ng-click="ctrl.addrow()">添加</a>
                        <a ng-show="ctrl.adding" class="btn btn-info" ng-click="ctrl.adding=false">返回</a>
                    </div>
                    <div class="col-md-3 pull-right">
                        <newdatepicker button-prev="<i class='fa fa-arrow-left'></i>" button-next="<i
						class='fa fa-arrow-right'></i>" date-format="yyyy-MM-dd" selector="form-control"
                        style="margin-bottom:10px;">
                            <div class="col-lg-12 input-group">
                                <input class="form-control" style="background: rgba(0,0,0,0);" ng-model="ctrl.endday_str"
                                ng-change="ctrl.refresh()" placeholder="Choose a date"
                                />
                            </div>
                            <span style="cursor: pointer;position: absolute;top: 6px;right: 20px;" style="cursor: pointer">
							<i class="fa fa-lg fa-calendar"></i>
						</span>
                        </newdatepicker>
                    </div>
                    <div class="col-md-3 pull-right">
                        <newdatepicker date-format="yyyy-MM-dd" selector="form-control" style="margin-bottom:10px;">
                            <div class="col-lg-12 input-group">
                                <input class="form-control" style="background: rgba(0,0,0,0);" ng-model="ctrl.startday_str"
                                ng-change="ctrl.refresh()" placeholder="Choose a date"
                                />
                            </div>
                            <span style="cursor: pointer;position: absolute;top: 6px;right: 20px;" style="cursor: pointer">
							<i class="fa fa-lg fa-calendar"></i>
						</span>
                        </newdatepicker>
                    </div>
            </header>
            <div class="panel-body" ng-hide="ctrl.adding">
                <p>*本功能仅用于销售之外的收支记录</p>
                <p>*个人为公司购买物品请先添加一笔资金注入记录，再添加一条资产购买记录</p>
                <table class="table table-invoice" ng-table="ctrl.tableParams">
                    <tr ng-repeat="row in $data" style="color:#333">
                        <td data-title="'日期'">{{row.date}}</td>
                        <td data-title="'数额'">{{row.amount}}</td>
                        <td data-title="'人员'">{{row.by}}</td>
                        <td data-title="'类别'">{{row.cate}}</td>
                        <td data-title="'渠道'">{{row.channel}}</td>
                        <td data-title="'明细'">{{row.brief}}</td>
                    </tr>
                </table>
            </div>
            <div class="form-group panel-body" ng-show="ctrl.adding">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="input-group input-group-lg m-bot15">
                            <span class="input-group-addon btn-primary">日期</span>
                            <newdatepicker date-set-hidden="true" button-prev="<i class='fa fa-arrow-left'></i>"
                            button-next="<i
						class='fa fa-arrow-right'></i>" date-format="yyyy-MM-dd" selector="form-control"
                            style="margin-bottom:10px;">
                                <div class="col-lg-12 input-group">
                                    <input class="form-control" style="background:
								rgba(0,0,0,0);height:46px;font-size:18px;"
								ng-model="ctrl.newrow.date"
                                    placeholder="费用发生日期" />
                                </div>
                                <span style="cursor: pointer;position: absolute;top: 10px;right: 20px;" style="cursor: pointer">
							<i class="fa fa-lg fa-calendar"></i>
						</span>
                            </newdatepicker>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="input-group input-group-lg m-bot15">
                            <span class="input-group-addon btn-primary">姓名</span>
                            <input class="form-control" placeholder="支付费用人员姓名" ng-model="ctrl.newrow.by">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="input-group input-group-lg m-bot15">
                            <span class="input-group-addon btn-primary">金额</span>
                            <input type="number" class="form-control" placeholder="请输入正整数" ng-model="ctrl.newrow.amount">
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="input-group input-group-lg m-bot15">
                            <span class="input-group-addon btn-primary">描述</span>
                            <input class="form-control" placeholder="费用详情"
							ng-model="ctrl.newrow.brief">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="input-group input-group-lg m-bot15">
                            <span class="input-group-addon btn-primary">类别</span>
                            <select class="form-control input" ng-model="ctrl.newrow.cate">
                                <option value="运营支出" selected>运营支出</option>
                                <option value="工资支出">工资支出</option>
                                <option value="广告支出">广告支出</option>
                                <option value="资产购买">资产购买</option>
                                <option value="资产减记">资产减记</option>
                                <option value="客户退款">客户退款</option>
                                <option value="其他支出">其他支出</option>
                                <option value="资金注入">*资金注入</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="input-group input-group-lg m-bot15">
                            <span class="input-group-addon btn-primary">渠道</span>
                            <select class="form-control input" ng-model="ctrl.newrow.channel">
                                <option value="现金" selected>现金</option>
                                <option value="银行卡">银行卡</option>
                                <option value="信用卡">信用卡</option>
                                <option value="支付宝">支付宝</option>
                                <option value="微信">微信</option>
                            </select>
                        </div>
                    </div>
                </div>
	            <p class="text-center"><a class="btn btn-danger btn-lg text-center" style="margin-top:20px"
				    ng-click="ctrl.submit()">提交</a>
		        </p>
            </div>
        </section>
    </div>
</div>
